## humble - A frontend framework for Go

Version: X.X.X

###What is humble?

We knew Go was the language we loved working in on the backend for our web applications, but what if we could build our *frontends* in Go too? humble is a  lightweight, modular framework for Go that has 3 main, modular pieces that work together and apart:

- Routing: 
	- Pointing URLs to different pages and partials (single page application), including query tokens
- UI Rendering: 
	- Easy to create/append/delete DOM elements to render common UI elements.
- Models: 
	- Keeping a JS object mapped to a RESTful API and performing easy CRUD actions

### Installing

- [Install go](http://golang.org/dl/) if you don't already have it. The latest version is required for gopherjs.
- Install [gopherjs](https://github.com/gopherjs/gopherjs)
- Install humble itself with `go get -u github.com/soroushjp/humble`
- Import humble into your project like you would any other go package.


### Running the Example

Assuming you have followed all of the steps above,

- Install the [backend server](https://github.com/albrow/todo-backend) (also written in go). Run it with `go run` and keep it running.
- Change into the `example/todomvc` directory.
- Run `gopherjs build github.com/soroushjp/humble/example/todomvc/go -o js/app.js`
- Serve the todomvc directory (e.g. with `python -m SimpleHTTPServer`) and visit in your browser.


### Routes

A dynamic router that reads and builds URLs of the form "/#/my/favourite/page/{id}" with unlimited literal and query tokens that are passed to a function handler. The function handlers are written in idiomatic Go, mimicking the http.Handler syntax.

### Views

A easy way to wrap UI DOM elements that come up repeatedly or are modified extensively with JavaScript. Views are designed as Go interfaces and have to satisfy just 3 methods:

- *RenderHTML()* that gives back the HTML it is associated with.
- *GetID()* that gives it a unique ID (which can be auto-generated by including the included *humble.Identifier* type as an anonymous field)
- *OuterTag()* that gives the outer tag that the view HTML is wrapped in. This is necessary for easy referencing of the view element rendered in the DOM but can be any tag (custom or semantically neutral) that the user needs.

This allows:

- Easy create/append/delete of repeated View DOM elements.
- Easily adding event listeners to any DOM element within View.
- Organized view objects that control DOM with their own properties/methods

### Models

A very lightweight wrapper to make CRUD actions easy HTTP requests to a RESTful API endpoint. Models are designed as Go interfaces and have to satisfy just 2 methods:

- *RootURL()* that gives the REST API endpoint URL.
- *GetID()* that gives it a unique ID (which can be auto-generated by including the included *humble.Identifier* type as an anonymous field)

This allows:

- Easy CRUD actions that map to HTTP methods GET, POST, PUT, DELETE
- Organized model objects with their own properties/methods

--------------

### Testing

TODO: write a script that runs all the tests automatically

#### Router Tests

#### Model Tests

The model package includes code which communicates with a REST server. We use
karma to test this code running in actual browsers. You will need to install
these dependencies:

- [node.js](http://nodejs.org/)
- [karma](http://karma-runner.github.io/0.12/index.html)
- [karma-jasmine](https://github.com/karma-runner/karma-jasmine)

Don't forget to also install the karma command line tools with `npm install -g
karma-cli`.

You will also need to install a launcher for each browser you want to test with,
as well as the browsers themselves. Typically you install a karma launcher with
`npm install -g karma-chrome-launcher`. You can edit the config files
`karma/test-mac.conf.js` if you want to change the browsers that are tested on.

Once you have installed all the dependencies, start karma with
`karma start karma/test-mac.conf.js`. Once karma is running, you can keep it
running in between tests.

Next you need to compile the test.go file to javascript so it can run in the
browsers:

```
gopherjs build karma/go/test.go -o karma/js/test.js
```

Finally run the tests:

```
karma run
```


### Examples

See the TodoMVC example in example/todomvc to see how it all fits together.

### License

MIT License
